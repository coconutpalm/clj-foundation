<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-foundation.config documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-foundation</span> <span class="project-version">0.9.20</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to clj-foundation</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-foundation</span></div></div></li><li class="depth-2 branch"><a href="clj-foundation.caller.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>caller</span></div></a></li><li class="depth-2 branch current"><a href="clj-foundation.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.conversions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conversions</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.data.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.errors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>errors</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.grep.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grep</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.millis.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>millis</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.oo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oo</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.patterns.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>patterns</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.pipe.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pipe</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.templates.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>templates</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.transducers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transducers</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.tree-visit.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tree-visit</span></div></a></li><li class="depth-2"><a href="clj-foundation.unit-test-common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>unit-test-common</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-foundation.config.html#var-defconfig"><div class="inner"><span>defconfig</span></div></a></li><li class="depth-1"><a href="clj-foundation.config.html#var-read-config"><div class="inner"><span>read-config</span></div></a></li><li class="depth-1"><a href="clj-foundation.config.html#var-read-settings-file"><div class="inner"><span>read-settings-file</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-foundation.config</h1><div class="doc"><div class="markdown"><p>Read configuration from an EDN file. The EDN fileâ€™s location is specified using an environment variable (for specifying its location during test, staging or production deployments) as well as a literal path or URL for specifying its location during development. If the environment variable is present, it overrides any absolute path.</p>
<p>In addition, the EDN file being used for configuration may contain template variables as defined by the <a href="null">templates</a> namespace. Template variables may be resolved through the environment or through keys and values specified in code.</p></div></div><div class="public anchor" id="var-defconfig"><h3>defconfig</h3><h4 class="type">macro</h4><div class="usage"><code>(defconfig config-fn-name config-file-location-envar default-config-resource &amp; default-kvs)</code></div><div class="doc"><div class="markdown"><p>Defines a configuration lookup function of type (=&gt; s/Any [s/Keyword]) that returns configuration values from the EDN file specified by variable or the default resource. File resolution is done in the following precedence:</p>
<ul>
  <li>A Java system variable with its name matching config-file-location-envar.</li>
  <li>An operating system environment variable with its name matching config-file-location-envar.</li>
  <li>A Java resource with a relative path specified by default-config-resource.</li>
</ul>
<p>The configuration file itself should represent a single Clojure map with keywords as the keys and any value (including another map) as the value. Thus calling a config function generated by defconfig might look like:</p>
<p>(config :topic :subtopic :entry-name)</p>
<p>An optional third parameter can either be a map of type {s/Keyword s/Any} or a seq of keywords and values representing default values that will be substitued into the configuration file using the same resolution rules above. E.g.: The developer can choose to have either separate dev and prod config files or to define variables inside the configuration file with default values for dev that will be overridden in prod via Java system properties or environment variables.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/config.clj#L40">view source</a></div></div><div class="public anchor" id="var-read-config"><h3>read-config</h3><div class="usage"><code>(read-config config &amp; keys)</code></div><div class="doc"><div class="markdown"><p>Inputs: [config &amp; keys] Returns: s/Any</p>
<p>Reads config object via the path represented by keys and returns the resulting object.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/config.clj#L22">view source</a></div></div><div class="public anchor" id="var-read-settings-file"><h3>read-settings-file</h3><h4 class="type">macro</h4><div class="usage"><code>(read-settings-file config-file-envar default-config-resource substitutions)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/config.clj#L36">view source</a></div></div></div></body></html>