<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-foundation.templates documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-foundation</span> <span class="project-version">0.9.20</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to clj-foundation</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-foundation</span></div></div></li><li class="depth-2 branch"><a href="clj-foundation.caller.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>caller</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.conversions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conversions</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.data.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.errors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>errors</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.grep.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grep</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.millis.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>millis</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.oo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oo</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.patterns.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>patterns</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.pipe.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pipe</span></div></a></li><li class="depth-2 branch current"><a href="clj-foundation.templates.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>templates</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.transducers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transducers</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.tree-visit.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tree-visit</span></div></a></li><li class="depth-2"><a href="clj-foundation.unit-test-common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>unit-test-common</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-foundation.templates.html#var-interpolation-vars"><div class="inner"><span>interpolation-vars</span></div></a></li><li class="depth-1"><a href="clj-foundation.templates.html#var-kv-vector.3C-"><div class="inner"><span>kv-vector&lt;-</span></div></a></li><li class="depth-1"><a href="clj-foundation.templates.html#var-lines"><div class="inner"><span>lines</span></div></a></li><li class="depth-1"><a href="clj-foundation.templates.html#var-parameter-list.3C-"><div class="inner"><span>parameter-list&lt;-</span></div></a></li><li class="depth-1"><a href="clj-foundation.templates.html#var-parameters.3C-"><div class="inner"><span>parameters&lt;-</span></div></a></li><li class="depth-1"><a href="clj-foundation.templates.html#var-partial-subst.3C-"><div class="inner"><span>partial-subst&lt;-</span></div></a></li><li class="depth-1"><a href="clj-foundation.templates.html#var-resolve-var"><div class="inner"><span>resolve-var</span></div></a></li><li class="depth-1"><a href="clj-foundation.templates.html#var-seq-.3Ecomma-string"><div class="inner"><span>seq-&gt;comma-string</span></div></a></li><li class="depth-1"><a href="clj-foundation.templates.html#var-sql-vars"><div class="inner"><span>sql-vars</span></div></a></li><li class="depth-1"><a href="clj-foundation.templates.html#var-subst-map.3C-"><div class="inner"><span>subst-map&lt;-</span></div></a></li><li class="depth-1"><a href="clj-foundation.templates.html#var-subst.3C-"><div class="inner"><span>subst&lt;-</span></div></a></li><li class="depth-1"><a href="clj-foundation.templates.html#var-try-resolve-var"><div class="inner"><span>try-resolve-var</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-foundation.templates</h1><div class="doc"><div class="markdown"><p>Implements variable substitution into strings. Variables are specified in the form ${VAR}. Then, the map {:VAR “value”} substitutes “value” into the string in place of ${VAR}. Also, given a string s can return the names of the variables that must be resolved in s.</p></div></div><div class="public anchor" id="var-interpolation-vars"><h3>interpolation-vars</h3><div class="usage"><code>(interpolation-vars str)</code></div><div class="doc"><div class="markdown"><p>Returns the variable names that are defined in the specified string.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L213">view source</a></div></div><div class="public anchor" id="var-kv-vector.3C-"><h3>kv-vector&lt;-</h3><div class="usage"><code>(kv-vector&lt;- m)</code></div><div class="doc"><div class="markdown"><p>Inputs: [m :- {s/Keyword s/Any}] Returns: [s/Keyword s/Any]</p>
<p>Translate a map of Keywords -&gt; anything to a vector in the form: [:key1 val1 :key2 val2 … :keyn valn]</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L163">view source</a></div></div><div class="public anchor" id="var-lines"><h3>lines</h3><div class="usage"><code>(lines source)</code></div><div class="doc"><div class="markdown"><p>Inputs: [source :- (types BufferedReader s/Str)] Returns: ISeq</p>
<p>Like clojure.core/line-seq but accepts String in addition to java.io.BufferedReader.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L40">view source</a></div></div><div class="public anchor" id="var-parameter-list.3C-"><h3>parameter-list&lt;-</h3><div class="usage"><code>(parameter-list&lt;- parameter-source substitution-map &amp; options)</code></div><div class="doc"><div class="markdown"><p>Inputs: [parameter-source :- (types String clojure.lang.ASeq) substitution-map :- {s/Any s/Any} &amp; options :- [s/Any]] Returns: [s/Any]</p>
<p>Generates a parameter list seq with variable values in the order in which variables are encountered in variable-source using resolve-var.</p>
<p>A parameter source is either a template string or a seq of variables in the order in which their values must be applied to some future function.</p>
<p>If :partial-resolve true is specified in options, resolves as many variables as possible. Unresolved variables are returned as ${var-name}.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L127">view source</a></div></div><div class="public anchor" id="var-parameters.3C-"><h3>parameters&lt;-</h3><div class="usage"><code>(parameters&lt;- template)</code></div><div class="doc"><div class="markdown"><p>Inputs: [template :- s/Str] Returns: [s/Any]</p>
<p>Parse template string and return the parameter list variables in the order in which they are defined in the string.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L120">view source</a></div></div><div class="public anchor" id="var-partial-subst.3C-"><h3>partial-subst&lt;-</h3><div class="usage"><code>(partial-subst&lt;- variable-string &amp; substitutions)</code></div><div class="doc"><div class="markdown"><p>Like subst&lt;- but returns a partially-substituted string if values cannot be resolved. Use interpolation-vars to discover what variables have not been substituted yet.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L202">view source</a></div></div><div class="public anchor" id="var-resolve-var"><h3>resolve-var</h3><div class="usage"><code>(resolve-var default-substitutions var-name &amp; options)</code></div><div class="doc"><div class="markdown"><p>Inputs: [default-substitutions :- {s/Any s/Any} var-name :- s/Keyword &amp; options :- [s/Any]] Returns: s/Any</p>
<p>Resolves (template) variable values using the following precedence:</p>
<ul>
  <li>(System/getProperty)</li>
  <li>(System/getenv)</li>
  <li>default-substitutions map</li>
</ul>
<p>Options are key/value pairs.</p>
<p>If Options contains :partial-resolve true, returns err/nothing if a variable cannot be resolved. Otherwise, if a variable cannot be resolved, throws ExceptionInfo.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L49">view source</a></div></div><div class="public anchor" id="var-seq-.3Ecomma-string"><h3>seq-&gt;comma-string</h3><div class="usage"><code>(seq-&gt;comma-string v)</code></div><div class="doc"><div class="markdown"><p>Generally-useful function for turning a seq into a comma-separated string.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L32">view source</a></div></div><div class="public anchor" id="var-sql-vars"><h3>sql-vars</h3><div class="usage"><code>(sql-vars resource-string)</code></div><div class="doc"><div class="markdown"><p>Inputs: [resource-string] Returns: [s/Str []]</p>
<p>Converts resource string using substitution-map into a tuple vector [String [binding arguments]] where the String is the SQL with binding question marks replacing the template variables and the binding arguments vector containing the variable name corresponding to each ? binding.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L170">view source</a></div></div><div class="public anchor" id="var-subst-map.3C-"><h3>subst-map&lt;-</h3><div class="usage"><code>(subst-map&lt;- variadic-parameter)</code></div><div class="doc"><div class="markdown"><p>Convert a vector like found in a variadic parameter into a substitution map. Supported cases:</p>
<ul>
  <li>The variadic parameter is empty -&gt; return {}.</li>
  <li>The variadic parameter contains a map -&gt; return the map.</li>
  <li>The variadic parameter is a sequence of keys and values -&gt; convert to map.</li>
</ul></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L16">view source</a></div></div><div class="public anchor" id="var-subst.3C-"><h3>subst&lt;-</h3><div class="usage"><code>(subst&lt;- variable-string &amp; substitutions)</code></div><div class="doc"><div class="markdown"><p>Given a string containing variables of the form ${variable-name} and a map with keywords corresponding to the variable names/values where the values specified in the map represent default values to be used if the variable’s value is not discovered via another method.</p>
<p>Values are derived (in the following order of precedence) from:</p>
<ul>
  <li>Java system properties</li>
  <li>O/S environment variables</li>
  <li>Values in substitution-map</li>
</ul>
<p>If a value cannot be resolved, throws ExceptionInfo.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L181">view source</a></div></div><div class="public anchor" id="var-try-resolve-var"><h3>try-resolve-var</h3><div class="usage"><code>(try-resolve-var substitutions var &amp; options)</code></div><div class="doc"><div class="markdown"><p>Inputs: [substitutions :- {s/Keyword s/Any} var :- s/Keyword &amp; options :- [s/Any]] Returns: s/Any</p>
<p>Resolve variable using resolve-var semantics. If :partial-resolve true is in options, unsuccessful variable resolutions are converted back to the variable’s string representation and returned.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/templates.clj#L90">view source</a></div></div></div></body></html>