<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-foundation.errors documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-foundation</span> <span class="project-version">0.9.20</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to clj-foundation</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-foundation</span></div></div></li><li class="depth-2 branch"><a href="clj-foundation.caller.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>caller</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.conversions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conversions</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.data.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-2 branch current"><a href="clj-foundation.errors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>errors</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.grep.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grep</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.millis.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>millis</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.oo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oo</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.patterns.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>patterns</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.pipe.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pipe</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.templates.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>templates</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.transducers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transducers</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.tree-visit.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tree-visit</span></div></a></li><li class="depth-2"><a href="clj-foundation.unit-test-common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>unit-test-common</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-foundation.errors.html#var-*log*"><div class="inner"><span>*log*</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var--.3ERetrySettings"><div class="inner"><span>-&gt;RetrySettings</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-exception-seq"><div class="inner"><span>exception-seq</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-exception.3C-"><div class="inner"><span>exception&lt;-</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-expect-within"><div class="inner"><span>expect-within</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-failure.3F"><div class="inner"><span>failure?</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-log"><div class="inner"><span>log</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-log-levels"><div class="inner"><span>log-levels</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-log-string"><div class="inner"><span>log-string</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-map-.3ERetrySettings"><div class="inner"><span>map-&gt;RetrySettings</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-metalog"><div class="inner"><span>metalog</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-must-be"><div class="inner"><span>must-be</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-new-default-job"><div class="inner"><span>new-default-job</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-not-failure"><div class="inner"><span>not-failure</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-not-nil"><div class="inner"><span>not-nil</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-retry"><div class="inner"><span>retry</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-retry*"><div class="inner"><span>retry*</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-retry-statements"><div class="inner"><span>retry-statements</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-retry-with-timeout"><div class="inner"><span>retry-with-timeout</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-retry.3F"><div class="inner"><span>retry?</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-seq.3C-"><div class="inner"><span>seq&lt;-</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-set-global-metalogger"><div class="inner"><span>set-global-metalogger</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-stack-trace.3C-"><div class="inner"><span>stack-trace&lt;-</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-strict-map-.3ERetrySettings"><div class="inner"><span>strict-map-&gt;RetrySettings</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-throw-or"><div class="inner"><span>throw-or</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-TIMEOUT-ERROR"><div class="inner"><span>TIMEOUT-ERROR</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-timeout.3F"><div class="inner"><span>timeout?</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-trace"><div class="inner"><span>trace</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-try*"><div class="inner"><span>try*</span></div></a></li><li class="depth-1"><a href="clj-foundation.errors.html#var-try*-timeout-millis"><div class="inner"><span>try*-timeout-millis</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-foundation.errors</h1><div class="doc"><div class="markdown"><p>What is an error? Is nil an error? (Not always, but…) How can we describe functions that might return a result or that might fail? What about exceptions–they break referential transparency, but lots of code throws them anyway. What about functions that might need to retry because some external actor (e.g.: the network) might have intermittent failures?</p>
<p>Error handling is rarely clean, but this namespace provides some handy utilities to centralize some of the concerns and solve them once, reliably. ;-)</p></div></div><div class="public anchor" id="var-*log*"><h3>*log*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>The current log implementation. Defaults to the metalog function.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L155">view source</a></div></div><div class="public anchor" id="var--.3ERetrySettings"><h3>-&gt;RetrySettings</h3><div class="usage"><code>(-&gt;RetrySettings tries timeout-millis pause-millis abort?-fn)</code></div><div class="doc"><div class="markdown"><p>Positional factory function for class clj_foundation.errors.RetrySettings.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L302">view source</a></div></div><div class="public anchor" id="var-exception-seq"><h3>exception-seq</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Deprecated. Use errors/seq&lt;- instead.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L90">view source</a></div></div><div class="public anchor" id="var-exception.3C-"><h3>exception&lt;-</h3><div class="usage"><code>(exception&lt;- x)</code></div><div class="doc"><div class="markdown"><p>Inputs: [x :- s/Any] Returns: Throwable</p>
<p>If x is already Throwable return it, else convert it into an exception using ex-info. The (:error-object result) will be the original value. This is intended–though not strictly required–to be used for values where (failure? value) is true.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L62">view source</a></div></div><div class="public anchor" id="var-expect-within"><h3>expect-within</h3><div class="usage"><code>(expect-within timeout-millis predicate error-message)</code></div><div class="doc"><div class="markdown"><p>Inputs: [timeout-millis :- s/Num predicate :- (=&gt; s/Any []) error-message :- s/Str] Returns: s/Any</p>
<p>Expect the condition specified by predicate to become true within timeout-millis. If this does not happen, throws IllegalStateException including the error-message. On success, returns the truthy value that predicate returned.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L181">view source</a></div></div><div class="public anchor" id="var-failure.3F"><h3>failure?</h3><h4 class="type">multimethod</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>A multimethod that determines if a computation has resulted in a failure. This allows the definition of what constitutes a failure to be extended to new types by the consumer.</p>
<p>An example of how this can function can be extended to new error types exists in this namespace where we extend failure? to include timeout errors.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L34">view source</a></div></div><div class="public anchor" id="var-log"><h3>log</h3><div class="usage"><code>(log level &amp; more)</code></div><div class="doc"><div class="markdown"><p>Inputs: [level :- s/Keyword &amp; more :- [s/Any]] Returns: s/Any</p>
<p>Synopsis: (log :log-level &amp; more)</p>
<p>The initial :log-level must be one of the keywords in log-levels. The remainder of the arguments are the objects that will be logged using log-string.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L167">view source</a></div></div><div class="public anchor" id="var-log-levels"><h3>log-levels</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The log levels supported by the metalogger mapped to numbers matching the log4j log levels.</p>
<p>The current log level keywords are: #{:trace :debug :info :warn :error :fatal}</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L132">view source</a></div></div><div class="public anchor" id="var-log-string"><h3>log-string</h3><div class="usage"><code>(log-string log-objects)</code></div><div class="doc"><div class="markdown"><p>Inputs: [log-objects :- [s/Any]]  Returns: s/Str</p>
<p>Create a log string from a sequence of log objects. Parameters are reordered  so that non-Throwables are first followed by Throwable objects. Non-Throwables  are returned as their toString representation separated by commas. Throwables  are represented by their stack traces, separated by “ ==&gt; ”.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L119">view source</a></div></div><div class="public anchor" id="var-map-.3ERetrySettings"><h3>map-&gt;RetrySettings</h3><div class="usage"><code>(map-&gt;RetrySettings m6472)</code></div><div class="doc"><div class="markdown"><p>Factory function for class RetrySettings, taking a map of keywords to field values, but not much slower than -&gt;x like the clojure.core version. (performance is fixed in Clojure 1.7, so this should eventually be removed.)</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L302">view source</a></div></div><div class="public anchor" id="var-metalog"><h3>metalog</h3><div class="usage"><code>(metalog level-keyword &amp; more)</code></div><div class="doc"><div class="markdown"><p>The default log implementation if none is specified:</p>
<ul>
  <li>println levels &lt; :error to <em>out</em></li>
  <li>println levels &gt;= :error to <em>err</em></li>
</ul></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L145">view source</a></div></div><div class="public anchor" id="var-must-be"><h3>must-be</h3><h4 class="type">macro</h4><div class="usage"><code>(must-be message &amp; body)</code></div><div class="doc"><div class="markdown"><p>If body is truthy returns result of evaluating body, else throws IllegalArgumentException with message.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L388">view source</a></div></div><div class="public anchor" id="var-new-default-job"><h3>new-default-job</h3><div class="usage"><code>(new-default-job job-name tries pause-millis abort?-fn)</code></div><div class="doc"><div class="markdown"><p>Create a Job object. Only public to make retry? testable.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L291">view source</a></div></div><div class="public anchor" id="var-not-failure"><h3>not-failure</h3><div class="usage"><code>(not-failure value message)</code></div><div class="doc"><div class="markdown"><p>Inputs: [value :- s/Any message :- s/Str] Returns: s/Any</p>
<p>If value is not a failure, returns it, else throws IllegalStateExceoption with the specified message</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L367">view source</a></div></div><div class="public anchor" id="var-not-nil"><h3>not-nil</h3><div class="usage"><code>(not-nil value name)</code></div><div class="doc"><div class="markdown"><p>Inputs: [value :- s/Any name :- s/Str] Returns: s/Any</p>
<p>If value is not nil, returns it, else throws IllegalArgumentExceoption with the message “${name} cannot be nil”</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L358">view source</a></div></div><div class="public anchor" id="var-retry"><h3>retry</h3><div class="usage"><code>(retry tries pause-millis f &amp; args)</code></div><div class="doc"><div class="markdown"><p>Retry calling the specified function f &amp; args while pausing pause-millis between attempts. Uncaught exceptions are considered errors. After tries attempts, the last caught exception is re-thrown.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L217">view source</a></div></div><div class="public anchor" id="var-retry*"><h3>retry*</h3><div class="usage"><code>(retry* tries pause-millis f &amp; args)</code></div><div class="doc"><div class="markdown"><p>Retry calling the specified function f &amp; args while pausing pause-millis between attempts. Throwable objects, and uncaught exceptions are all considered errors. After tries attempts, the last error is returned.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L199">view source</a></div></div><div class="public anchor" id="var-retry-statements"><h3>retry-statements</h3><div class="usage"><code>(retry-statements tries pause-millis)</code></div><div class="doc"><div class="markdown"><p>Specify a retry policy for a function that will be called later. tries is the number of retries allowed for the future function call, and pause-millis is the number of milliseconds to wait between retries.</p>
<p>Returns a multi-arity function. The initial parameter is the function to be called. The remaining parameters (if any) are that function’s arguments.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L235">view source</a></div></div><div class="public anchor" id="var-retry-with-timeout"><h3>retry-with-timeout</h3><div class="usage"><code>(retry-with-timeout job-name settings f &amp; args)</code></div><div class="doc"><div class="markdown"><p>Inputs: [job-name :- String settings :- RetrySettings f :- (=&gt; s/Any [s/Any]) &amp; args :- [s/Any]] Returns: s/Any</p>
<p>Retry (apply f args) up to tries times with pause-millis time in between invocation and a timeout value of timeout-millis. On failure, abort?-fn is called with a vector containing the unwrapped exception stack.</p>
<p>(failure is determined via the (failure? x) multimethod so clients can extend the set of values that are considered to be failures.)</p>
<p>If abort?-fn returns true, the errror is considered fatal and no more retries are attempted, even if retries were available.</p>
<p>If the last result is a failure, and that failure is Throwable, the exception is wrapped in a RuntimeException and rethrown.</p>
<p>If the last result is a TIMEOUT-ERROR, a runtime exception is thrown. Otherwise, the failure value itself is returned as the result.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L309">view source</a></div></div><div class="public anchor" id="var-retry.3F"><h3>retry?</h3><div class="usage"><code>(retry? job failure-value)</code></div><div class="doc"><div class="markdown"><p>Inputs: [job failure-value :- s/Any] Returns: (s/enum :ABORT-MAX-RETRIES :ABORT-FATAL-ERROR :RETRY-FAILURE :RETRY-TIMEOUT)</p>
<p>Something failed. Examine the retry count and exact failure cause and determine if we can retry the operation. Internal API only; public so we can document using Schema and test.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L277">view source</a></div></div><div class="public anchor" id="var-seq.3C-"><h3>seq&lt;-</h3><div class="usage"><code>(seq&lt;- failure)</code></div><div class="doc"><div class="markdown"><p>Inputs: [failure :- (s/pred failure? “(failure? failure) is truthy”)] Returns: [Throwable]</p>
<p>Converts failures into seqs of exceptions. If the failure is already an exception (the common case), it returns a seq starting with the root exception, and recursively including (.getCause e) until there are no more causes.</p>
<p>If the failure is a seq, ensures that the result is a seq of excetions.</p>
<p>If the failure isn’t already an exception or a seq, it is converted into one first using ex-info. In this case, the :cause in the ex-info map will be the original failure object.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L72">view source</a></div></div><div class="public anchor" id="var-set-global-metalogger"><h3>set-global-metalogger</h3><div class="usage"><code>(set-global-metalogger f)</code></div><div class="doc"><div class="markdown"><p>Inputs: [f :- (=&gt; s/Any [s/Keyword s/Any])] Returns: s/Any</p>
<p>Set the clj-foundation metalogger globally. f must be a function of type (=&gt; s/Any [s/Keyword s/Any])</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L160">view source</a></div></div><div class="public anchor" id="var-stack-trace.3C-"><h3>stack-trace&lt;-</h3><div class="usage"><code>(stack-trace&lt;- e)</code></div><div class="doc"><div class="markdown"><p>Inputs: [e :- Throwable] Returns: s/Str</p>
<p>Returns the stack trace(s) associated with e and its (.getCause)s as a String.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L95">view source</a></div></div><div class="public anchor" id="var-strict-map-.3ERetrySettings"><h3>strict-map-&gt;RetrySettings</h3><div class="usage"><code>(strict-map-&gt;RetrySettings m6473 &amp; [drop-extra-keys?__3163__auto__])</code></div><div class="doc"><div class="markdown"><p>Factory function for class RetrySettings, taking a map of keywords to field values. All keys are required, and no extra keys are allowed. Even faster than map-&gt;</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L302">view source</a></div></div><div class="public anchor" id="var-throw-or"><h3>throw-or</h3><div class="usage"><code>(throw-or value message f)</code></div><div class="doc"><div class="markdown"><p>Inputs: [value :- s/Any message :- s/Str f :- (=&gt; s/Any [s/Any])] Returns: s/Any</p>
<p>If value is a failure, wrap and throw it in an IllegalStateException with the specified message, else run function on the value and return the result</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L378">view source</a></div></div><div class="public anchor" id="var-TIMEOUT-ERROR"><h3>TIMEOUT-ERROR</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A timeout error value</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L249">view source</a></div></div><div class="public anchor" id="var-timeout.3F"><h3>timeout?</h3><div class="usage"><code>(timeout? e)</code></div><div class="doc"><div class="markdown"><p>True if (= TIMEOUT-ERROR e)</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L259">view source</a></div></div><div class="public anchor" id="var-trace"><h3>trace</h3><h4 class="type">macro</h4><div class="usage"><code>(trace &amp; more)</code></div><div class="doc"><div class="markdown"><p>Like str but prepends the namespace and line/column of the call site.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L23">view source</a></div></div><div class="public anchor" id="var-try*"><h3>try*</h3><h4 class="type">macro</h4><div class="usage"><code>(try* body)</code><code>(try* body default-value-if-failure)</code></div><div class="doc"><div class="markdown"><p>A variant of try that translates exceptions into return values or a specified default value. Note that body must be a single statement. If you need more than that, then wrap your statement inside a “do”. </p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L106">view source</a></div></div><div class="public anchor" id="var-try*-timeout-millis"><h3>try*-timeout-millis</h3><h4 class="type">macro</h4><div class="usage"><code>(try*-timeout-millis timeout-millis &amp; body)</code></div><div class="doc"><div class="markdown"><p>Execute body with a specified timeout inside a try* block so that thrown exceptions are returned.</p>
<p>On success, returns the result of executing body. On failure, returns either the failure exception or TIMEOUT-ERROR on timeout.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.20/src/clj_foundation/errors.clj#L265">view source</a></div></div></div></body></html>