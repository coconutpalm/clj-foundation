<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-foundation.patterns documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-foundation</span> <span class="project-version">0.9.23</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to clj-foundation</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-foundation</span></div></div></li><li class="depth-2 branch"><a href="clj-foundation.caller.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>caller</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.conversions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conversions</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.data.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.errors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>errors</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.grep.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grep</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.millis.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>millis</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.oo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oo</span></div></a></li><li class="depth-2 branch current"><a href="clj-foundation.patterns.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>patterns</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.pipe.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pipe</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.templates.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>templates</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.transducers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transducers</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.tree-visit.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tree-visit</span></div></a></li><li class="depth-2"><a href="clj-foundation.unit-test-common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>unit-test-common</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-foundation.patterns.html#var--.3ENothing"><div class="inner"><span>-&gt;Nothing</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-arity"><div class="inner"><span>arity</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-def-singleton-fn"><div class="inner"><span>def-singleton-fn</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-f"><div class="inner"><span>f</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-get-class-name"><div class="inner"><span>get-class-name</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-get-package"><div class="inner"><span>get-package</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-KeywordValuePairs"><div class="inner"><span>KeywordValuePairs</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-let-map"><div class="inner"><span>let-map</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-letfn-map"><div class="inner"><span>letfn-map</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-no-result"><div class="inner"><span>no-result</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-NO-RESULT-ERROR"><div class="inner"><span>NO-RESULT-ERROR</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-nothing"><div class="inner"><span>nothing</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-Nothing.21"><div class="inner"><span>Nothing!</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-something.3F"><div class="inner"><span>something?</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-types"><div class="inner"><span>types</span></div></a></li><li class="depth-1"><a href="clj-foundation.patterns.html#var-use-defaults"><div class="inner"><span>use-defaults</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-foundation.patterns</h1><div class="doc"><div class="markdown"><p>Patterns DRY up code and provide a vocabulary for conversation. This package helps Clojure deal with types from Java, makes it easier to build maps that represent abstract data types, provides functional programming utilities, and adds a Nothing type that behaves as an identity value for maps, sequences, and strings under their various concatination operations. (For Category theorists, it’s a monadic zero for these types under concatination and mapcat.) It also provides Nothing constants for cases where Nothing means ‘error’, ‘no result’, or simply ‘use default settings’.</p></div></div><div class="public anchor" id="var--.3ENothing"><h3>-&gt;Nothing</h3><div class="usage"><code>(-&gt;Nothing string-value reason)</code></div><div class="doc"><div class="markdown"><p>Positional factory function for class clj_foundation.patterns.Nothing.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L75">view source</a></div></div><div class="public anchor" id="var-arity"><h3>arity</h3><div class="usage"><code>(arity f)</code></div><div class="doc"><div class="markdown"><p>Returns the maximum parameter count of each invoke method found by reflection on the input instance. The returned value can be then interpreted as the arity of the input function. The count does NOT detect variadic functions.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L51">view source</a></div></div><div class="public anchor" id="var-def-singleton-fn"><h3>def-singleton-fn</h3><h4 class="type">macro</h4><div class="usage"><code>(def-singleton-fn name &amp; body)</code></div><div class="doc"><div class="markdown"><p>Define a function whose return value is initilized once by executing body and that returns that same value on every subsequent call. A Clojure implementation of the Singleton pattern.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L62">view source</a></div></div><div class="public anchor" id="var-f"><h3>f</h3><h4 class="type">macro</h4><div class="usage"><code>(f &amp; all)</code></div><div class="doc"><div class="markdown"><p>A “where” form for anonymous functions. e.g.:</p>
<ul>
  <li>
  <p>If the body of the function is a single function call, the parens may be omitted.  (f x y =&gt; + x y)  (f x y &amp; more =&gt; apply + x y more)</p></li>
  <li>
  <p>If more statements are needed, they are wrapped in an implicit (do …)  (f =&gt; (log/warning “She’s about to blow!”)  (self-destruct))</p></li>
</ul></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L184">view source</a></div></div><div class="public anchor" id="var-get-class-name"><h3>get-class-name</h3><div class="usage"><code>(get-class-name clazz)</code></div><div class="doc"><div class="markdown"><p>Inputs: [clazz :- Class] Returns: s/Str</p>
<p>Returns the unqualified class name for the specified Class</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L42">view source</a></div></div><div class="public anchor" id="var-get-package"><h3>get-package</h3><div class="usage"><code>(get-package clazz)</code></div><div class="doc"><div class="markdown"><p>Inputs: [clazz :- Class] Returns: s/Str</p>
<p>Returns the package name for the specified Class</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L31">view source</a></div></div><div class="public anchor" id="var-KeywordValuePairs"><h3>KeywordValuePairs</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A schema for keyword-value pairs. Currently unsupported by Schema so defining once here so that once support lands, there is only one place to change to enforce it everywhere.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L25">view source</a></div></div><div class="public anchor" id="var-let-map"><h3>let-map</h3><h4 class="type">macro</h4><div class="usage"><code>(let-map var-exprs &amp; body)</code></div><div class="doc"><div class="markdown"><p>A version of let that returns its local variables in a map. If a result is computed in the body, and that result is another map, let-map returns the result of conj-ing the result map into the let expression map. Otherwise it returns a vector containing the let expression map followed by the result.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L143">view source</a></div></div><div class="public anchor" id="var-letfn-map"><h3>letfn-map</h3><h4 class="type">macro</h4><div class="usage"><code>(letfn-map fn-exprs &amp; body)</code></div><div class="doc"><div class="markdown"><p>A version of letfn that returns its functions in a map. If a result is computed in the body, and that result is another map, fn-map returns the result of conj-ing the result map into the function map. Otherwise it returns a vector containing the function map followed by the result.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L162">view source</a></div></div><div class="public anchor" id="var-no-result"><h3>no-result</h3><div class="usage"><code>(no-result string-value reason)</code></div><div class="doc"><div class="markdown"><p>Inputs: [string-value :- s/Str reason :- s/Any] Returns: Nothing</p>
<p>Create custom Nothingness with a specified (.toString n) and (.why n) value.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L114">view source</a></div></div><div class="public anchor" id="var-NO-RESULT-ERROR"><h3>NO-RESULT-ERROR</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>An instance of Nothing intended for use as a generic error result. It is a separate instance from ‘nothing’ because returning ‘nothing’ might not be an error. This value is useful for functions used within map / mapcat / filter (etc…) chains where it is useful to have an error value that behaves like the identity value for a collection.</p>
<p>However, unlike the nothing value, in a string context, NO-RESULT-ERROR returns an error message.</p>
<p>NO-RESULT-ERROR is treated as a failure by the failure? multimethod in the errors package.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L102">view source</a></div></div><div class="public anchor" id="var-nothing"><h3>nothing</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Nothing is the value to use when there is nothing to pass or return. Nothing acts like an empty map in a collection context and like an empty string in a string context.</p>
<p>This has the following implications:</p>
<ul>
  <li>You can use it as a result in mapcat when you want nothing appended to the output collection.</li>
  <li>You can cons a value into nothing, resulting in a seq.</li>
  <li>You can assoc values into a nothing, resulting in a map.</li>
  <li>You can conj vector pairs into a nothing, resulting in a map.</li>
  <li>You can concatinate it with other strings using the str function, adding nothing to the other strings.</li>
</ul></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L88">view source</a></div></div><div class="public anchor" id="var-Nothing.21"><h3>Nothing!</h3><div class="usage"><code>(Nothing!)</code></div><div class="doc"><div class="markdown"><p>Inputs: [] Returns: Class</p>
<p>Return the Nothing type (mainly for use in Schemas)</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L127">view source</a></div></div><div class="public anchor" id="var-something.3F"><h3>something?</h3><div class="usage"><code>(something? value)</code></div><div class="doc"><div class="markdown"><p>Inputs: [value :- s/Any] Returns: s/Any</p>
<p>Returns value if value is not nothing ; else returns nil.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L133">view source</a></div></div><div class="public anchor" id="var-types"><h3>types</h3><div class="usage"><code>(types &amp; schemas)</code></div><div class="doc"><div class="markdown"><p>Returns a schema that matches the listed surface types only (e.g.: primitive or collection types but not contents). Only designed for schemas that are (instance? java.lang.Class).</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L16">view source</a></div></div><div class="public anchor" id="var-use-defaults"><h3>use-defaults</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A synonmym for nothing for use in parameter lists when passing nothing really means for the function to use default values.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/patterns.clj#L121">view source</a></div></div></div></body></html>