<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-foundation.io documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-foundation</span> <span class="project-version">0.9.23</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="intro.html"><div class="inner"><span>Introduction to clj-foundation</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-foundation</span></div></div></li><li class="depth-2 branch"><a href="clj-foundation.caller.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>caller</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.config.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>config</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.conversions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>conversions</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.data.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>data</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.errors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>errors</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.grep.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>grep</span></div></a></li><li class="depth-2 branch current"><a href="clj-foundation.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.math.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>math</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.millis.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>millis</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.oo.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>oo</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.patterns.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>patterns</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.pipe.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pipe</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.templates.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>templates</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.transducers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>transducers</span></div></a></li><li class="depth-2 branch"><a href="clj-foundation.tree-visit.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tree-visit</span></div></a></li><li class="depth-2"><a href="clj-foundation.unit-test-common.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>unit-test-common</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-foundation.io.html#var-bin-deserialize"><div class="inner"><span>bin-deserialize</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-bin-serialize"><div class="inner"><span>bin-serialize</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-ByteArray"><div class="inner"><span>ByteArray</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-clojure-file-inputs"><div class="inner"><span>clojure-file-inputs</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-ClojureFileInputs"><div class="inner"><span>ClojureFileInputs</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-deserialize"><div class="inner"><span>deserialize</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-EnvironmentVariable"><div class="inner"><span>EnvironmentVariable</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-ExtendedFileInputs"><div class="inner"><span>ExtendedFileInputs</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-input-stream"><div class="inner"><span>input-stream</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-normalize-file-input"><div class="inner"><span>normalize-file-input</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-print-writer"><div class="inner"><span>print-writer</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-println-writer"><div class="inner"><span>println-writer</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-read-file"><div class="inner"><span>read-file</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-read-template"><div class="inner"><span>read-template</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-resource-as-string"><div class="inner"><span>resource-as-string</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-ResourceOverrideMap"><div class="inner"><span>ResourceOverrideMap</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-ResourceOverrideVector"><div class="inner"><span>ResourceOverrideVector</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-ResourcePath"><div class="inner"><span>ResourcePath</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-serialize"><div class="inner"><span>serialize</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-string-input-stream"><div class="inner"><span>string-input-stream</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-string-output-writer"><div class="inner"><span>string-output-writer</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-with-err-str"><div class="inner"><span>with-err-str</span></div></a></li><li class="depth-1"><a href="clj-foundation.io.html#var-with-out-writer"><div class="inner"><span>with-out-writer</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-foundation.io</h1><div class="doc"><div class="markdown"><p>io address three primary concerns: * Smoothing necessary Java interop for IO operations, particularly between strings and streams/writers * Extending clojure.java.io to allow specifying an environment variable to use as the input source * (de)Serializing Clojure data structures</p></div></div><div class="public anchor" id="var-bin-deserialize"><h3>bin-deserialize</h3><div class="usage"><code>(bin-deserialize filename)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L85">view source</a></div></div><div class="public anchor" id="var-bin-serialize"><h3>bin-serialize</h3><div class="usage"><code>(bin-serialize filename o)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L80">view source</a></div></div><div class="public anchor" id="var-ByteArray"><h3>ByteArray</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L92">view source</a></div></div><div class="public anchor" id="var-clojure-file-inputs"><h3>clojure-file-inputs</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The data types allowed as input to io/input-stream</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L93">view source</a></div></div><div class="public anchor" id="var-ClojureFileInputs"><h3>ClojureFileInputs</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The set of types Clojure allows for opening files/streams</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L120">view source</a></div></div><div class="public anchor" id="var-deserialize"><h3>deserialize</h3><div class="usage"><code>(deserialize filename)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L74">view source</a></div></div><div class="public anchor" id="var-EnvironmentVariable"><h3>EnvironmentVariable</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>The name of a java system variable or O/S environment variable (in that order) that may override a ResourcePath.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L102">view source</a></div></div><div class="public anchor" id="var-ExtendedFileInputs"><h3>ExtendedFileInputs</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Clojure’s file inputs plus extensions for reading from either Jar resources or Files.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L124">view source</a></div></div><div class="public anchor" id="var-input-stream"><h3>input-stream</h3><div class="usage"><code>(input-stream file-input)</code></div><div class="doc"><div class="markdown"><p>Inputs: [file-input :- ExtendedFileInputs] Returns: InputStream</p>
<p>Read and return a text file as an InputStream. Supported sources are the same as io/input-stream, with the following additions: ResourceOverrideMap and ResourceOverrideVector. See: (doc schema-name) for more information on these schema types.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L182">view source</a></div></div><div class="public anchor" id="var-normalize-file-input"><h3>normalize-file-input</h3><div class="usage"><code>(normalize-file-input file-input)</code></div><div class="doc"><div class="markdown"><p>Inputs: [file-input :- ExtendedFileInputs] Returns: ClojureFileInputs</p>
<p>If the file-input is a string and can be converted to a resource URL, return that. If the file-input is a FileLocation, translate the :resource string to a URL and return that, otherwise return a File object wrapping the :file entry. Otherwise, return the original file-input.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L157">view source</a></div></div><div class="public anchor" id="var-print-writer"><h3>print-writer</h3><h4 class="type">macro</h4><div class="usage"><code>(print-writer stream thing)</code></div><div class="doc"><div class="markdown"><p>Print thing to writer</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L48">view source</a></div></div><div class="public anchor" id="var-println-writer"><h3>println-writer</h3><h4 class="type">macro</h4><div class="usage"><code>(println-writer stream thing)</code></div><div class="doc"><div class="markdown"><p>Println thing to writer</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L54">view source</a></div></div><div class="public anchor" id="var-read-file"><h3>read-file</h3><div class="usage"><code>(read-file file-input)</code></div><div class="doc"><div class="markdown"><p>Inputs: [file-input :- ExtendedFileInputs] Returns: s/Str</p>
<p>Read and return a text file as a String. Supported sources are the same as io/input-stream, with the following additions: ResourceOverrideMap and ResourceOverrideVector. See: (doc schema-name) for more information on these types.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L190">view source</a></div></div><div class="public anchor" id="var-read-template"><h3>read-template</h3><div class="usage"><code>(read-template file-location &amp; ex-substitutions)</code></div><div class="doc"><div class="markdown"><p>Inputs: [file-location :- ExtendedFileInputs &amp; ex-substitutions] Returns: s/Str</p>
<p>Read a file from file-location, applying any variable substitutions specified in the file using the keyword/value pairs in substitutions.</p>
<p>Supported sources are the same as io/input-stream, with the following additions: ResourceOverrideMap and ResourceOverrideVector. See: (doc schema-name) and (explain schema-name) for more information on these types.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L217">view source</a></div></div><div class="public anchor" id="var-resource-as-string"><h3>resource-as-string</h3><div class="usage"><code>(resource-as-string &amp; resource-spec)</code></div><div class="doc"><div class="markdown"><p>Inputs: [&amp; resource-spec :- [s/Str]] Returns: s/Str</p>
<p>1-arg variant: Reads the specified classpath resource and returns its contents as a string.  2-arg variant: [“ENVAR” “resource-file.txt”] - Allows resource-file to be overridden as-in read-file.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L199">view source</a></div></div><div class="public anchor" id="var-ResourceOverrideMap"><h3>ResourceOverrideMap</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Read the file specified by :file or the resource specified by :resource. If both entries are defined, the :file entry takes precedence over the :resource entry.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L114">view source</a></div></div><div class="public anchor" id="var-ResourceOverrideVector"><h3>ResourceOverrideVector</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Read the resource at ResourcePath unless a Java system variable or an O/S EnvironmentVariable is present with the specified name. In that case, use the value referenced by EnvironmentVariable as a file system path to the actual file.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L107">view source</a></div></div><div class="public anchor" id="var-ResourcePath"><h3>ResourcePath</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A path to a JAR file resource on the classapth.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L98">view source</a></div></div><div class="public anchor" id="var-serialize"><h3>serialize</h3><div class="usage"><code>(serialize filename data-structure)</code></div><div class="doc"><div class="markdown"><p>Print a data structure to a file so that we may read it in later.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L66">view source</a></div></div><div class="public anchor" id="var-string-input-stream"><h3>string-input-stream</h3><div class="usage"><code>(string-input-stream input)</code></div><div class="doc"><div class="markdown"><p>Inputs: [input :- s/Str] Returns: InputStream</p>
<p>Return a java.io.InputStream containing the input string</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L60">view source</a></div></div><div class="public anchor" id="var-string-output-writer"><h3>string-output-writer</h3><div class="usage"><code>(string-output-writer)</code></div><div class="doc"><div class="markdown"><p>Create a java.io.PrintWriter whose .toString contains the data printed to it.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L29">view source</a></div></div><div class="public anchor" id="var-with-err-str"><h3>with-err-str</h3><h4 class="type">macro</h4><div class="usage"><code>(with-err-str &amp; body)</code></div><div class="doc"><div class="markdown"><p>Anything printed within body to <em>err</em> will be returned as a string.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L39">view source</a></div></div><div class="public anchor" id="var-with-out-writer"><h3>with-out-writer</h3><h4 class="type">macro</h4><div class="usage"><code>(with-out-writer f &amp; body)</code></div><div class="doc"><div class="markdown"><p>Opens a writer on f, binds it to <em>out</em>, and evaluates body. Anything printed within body will be written to f.</p></div></div><div class="src-link"><a href="https://github.com/shopsmart/clj-foundation/blob/0.9.23/src/clj_foundation/io.clj#L20">view source</a></div></div></div></body></html>